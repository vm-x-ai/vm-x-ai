# Example values for Minikube/development environment
# Usage: helm install vm-x-ai ./helm/vm-x-ai -f values-minikube.yaml

# Use libsodium for encryption (suitable for local development)
api:
  encryption:
    provider: libsodium  # libsodium is fine for local testing

# Use smaller resource requests for Minikube
api:
  replicaCount: 1
  resources:
    requests:
      cpu: 200m
      memory: 256Mi
    limits:
      cpu: 1000m
      memory: 1Gi

ui:
  replicaCount: 1
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi

redis:
  mode: single

otel:
  enabled: true
  collector:
    enabled: true
  jaeger:
    enabled: true
  prometheus:
    enabled: true
  loki:
    enabled: true
  grafana:
    enabled: true

ingress:
  type: istio
  enabled: true

  istio:
    # Gateway configuration
    gateway:
      name: vm-x-ai-gateway
      namespace: istio-system  # Usually deployed in istio-system
      selector:
        istio: ingressgateway
      servers:
        - port:
            number: 80
            name: http
            protocol: HTTP
          hosts:
            - vm-x-ai.local
    
    # VirtualService configuration
    virtualService:
      hosts:
        - vm-x-ai.local
      gateways:
        - istio-system/vm-x-ai-gateway
